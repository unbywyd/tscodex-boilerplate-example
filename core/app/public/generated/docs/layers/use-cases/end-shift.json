{
  "path": "layers/use-cases/end-shift.toml",
  "name": "end-shift.toml",
  "type": "toml",
  "content": {
    "useCase": {
      "id": "end-shift",
      "name": "End Shift",
      "description": "Specialist marks completion of work on an order",
      "asRole": "specialist",
      "iWant": "to end my work shift",
      "soThat": "Work time is recorded and order is marked complete",
      "meta": {
        "isActive": true,
        "priority": 1,
        "platform": "specialist-app"
      },
      "conditions": {
        "pre": [
          "Specialist has active shift",
          "Order status is 'in_progress'",
          "Work is completed"
        ],
        "post": [
          "Order status changes to 'completed'",
          "Actual end time is recorded",
          "Total work time is calculated",
          "Client receives completion notification"
        ]
      }
    },
    "relations": {
      "roles": [
        "specialist"
      ],
      "guards": [
        "authenticated",
        "specialist-only"
      ],
      "routes": [
        "specialist-active-shift"
      ],
      "entities": [
        "order"
      ],
      "components": [
        "active-shift"
      ],
      "events": [
        "shift-ended"
      ],
      "platforms": [
        "specialist-app"
      ],
      "useCases": []
    },
    "implementation": {
      "route": "/prototype/specialist/shift",
      "component": "ActiveShift",
      "file": "src/prototype/pages/specialist/ActiveShift.tsx",
      "status": "planned"
    },
    "flow": [
      {
        "id": "start",
        "type": "start",
        "label": "Specialist has active shift"
      },
      {
        "id": "view_timer",
        "type": "action",
        "label": "View current work time"
      },
      {
        "id": "tap_end",
        "type": "action",
        "label": "Tap 'End Shift' button"
      },
      {
        "id": "confirm_end",
        "type": "decision",
        "label": "Confirm completion?"
      },
      {
        "id": "record_end",
        "type": "action",
        "label": "Record end time, calculate duration"
      },
      {
        "id": "update_status",
        "type": "action",
        "label": "Update order status to 'completed'"
      },
      {
        "id": "notify_client",
        "type": "action",
        "label": "Send completion notification"
      },
      {
        "id": "show_summary",
        "type": "action",
        "label": "Show work summary (duration, order details)"
      },
      {
        "id": "cancel",
        "type": "action",
        "label": "Cancel end action"
      },
      {
        "id": "end",
        "type": "end",
        "label": "Shift ended, order completed"
      }
    ]
  },
  "rawContent": "# End Shift Use Case\n\n[useCase]\nid = \"end-shift\"\nname = \"End Shift\"\ndescription = \"Specialist marks completion of work on an order\"\nasRole = \"specialist\"\niWant = \"to end my work shift\"\nsoThat = \"Work time is recorded and order is marked complete\"\n\n[useCase.meta]\nisActive = true\npriority = 1\nplatform = \"specialist-app\"\n\n[useCase.conditions]\npre = [\n  \"Specialist has active shift\",\n  \"Order status is 'in_progress'\",\n  \"Work is completed\"\n]\npost = [\n  \"Order status changes to 'completed'\",\n  \"Actual end time is recorded\",\n  \"Total work time is calculated\",\n  \"Client receives completion notification\"\n]\n\n[relations]\nroles = [\"specialist\"]\nguards = [\"authenticated\", \"specialist-only\"]\nroutes = [\"specialist-active-shift\"]\nentities = [\"order\"]\ncomponents = [\"active-shift\"]\nevents = [\"shift-ended\"]\nplatforms = [\"specialist-app\"]\nuseCases = []\n\n[implementation]\nroute = \"/prototype/specialist/shift\"\ncomponent = \"ActiveShift\"\nfile = \"src/prototype/pages/specialist/ActiveShift.tsx\"\nstatus = \"planned\"\n\n[[flow]]\nid = \"start\"\ntype = \"start\"\nlabel = \"Specialist has active shift\"\n\n[[flow]]\nid = \"view_timer\"\ntype = \"action\"\nlabel = \"View current work time\"\n\n[[flow]]\nid = \"tap_end\"\ntype = \"action\"\nlabel = \"Tap 'End Shift' button\"\n\n[[flow]]\nid = \"confirm_end\"\ntype = \"decision\"\nlabel = \"Confirm completion?\"\n\n[[flow]]\nid = \"record_end\"\ntype = \"action\"\nlabel = \"Record end time, calculate duration\"\n\n[[flow]]\nid = \"update_status\"\ntype = \"action\"\nlabel = \"Update order status to 'completed'\"\n\n[[flow]]\nid = \"notify_client\"\ntype = \"action\"\nlabel = \"Send completion notification\"\n\n[[flow]]\nid = \"show_summary\"\ntype = \"action\"\nlabel = \"Show work summary (duration, order details)\"\n\n[[flow]]\nid = \"cancel\"\ntype = \"action\"\nlabel = \"Cancel end action\"\n\n[[flow]]\nid = \"end\"\ntype = \"end\"\nlabel = \"Shift ended, order completed\"\n\n",
  "metadata": {
    "size": 1817,
    "modified": "2025-12-15T08:37:04.477Z"
  }
}