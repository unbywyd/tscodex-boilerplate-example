{
  "path": "layers/use-cases/assign-specialist.toml",
  "name": "assign-specialist.toml",
  "type": "toml",
  "content": {
    "useCase": {
      "id": "assign-specialist",
      "name": "Assign Specialist",
      "description": "Admin assigns an available specialist to a care order",
      "asRole": "eldercare-admin",
      "iWant": "to assign a specialist to an order",
      "soThat": "The order can be fulfilled by a qualified specialist",
      "meta": {
        "isActive": true,
        "priority": 1,
        "platform": "admin-app"
      },
      "conditions": {
        "pre": [
          "Order exists and status is 'created' or 'reviewing'",
          "Specialists are available",
          "Specialist matches service type and city",
          "Specialist has availability for order time"
        ],
        "post": [
          "Order is assigned to specialist",
          "Order status changes to 'assigned'",
          "Specialist receives notification",
          "Client receives assignment notification"
        ]
      }
    },
    "relations": {
      "roles": [
        "eldercare-admin"
      ],
      "guards": [
        "authenticated",
        "admin-only"
      ],
      "routes": [
        "admin-orders"
      ],
      "entities": [
        "order",
        "specialist",
        "availability"
      ],
      "components": [
        "specialist-card",
        "order-card",
        "assignment-modal"
      ],
      "events": [
        "order-assigned"
      ],
      "platforms": [
        "admin-app"
      ],
      "useCases": []
    },
    "implementation": {
      "route": "/prototype/admin/orders",
      "component": "AdminOrders",
      "file": "src/prototype/pages/admin/AdminOrders.tsx",
      "status": "planned"
    },
    "flow": [
      {
        "id": "start",
        "type": "start",
        "label": "Admin selects order to assign"
      },
      {
        "id": "view_order",
        "type": "action",
        "label": "View order details (service, location, time)"
      },
      {
        "id": "tap_assign",
        "type": "action",
        "label": "Tap 'Assign Specialist' button"
      },
      {
        "id": "load_specialists",
        "type": "action",
        "label": "Load available specialists"
      },
      {
        "id": "filter_match",
        "type": "action",
        "label": "Filter by service type and city"
      },
      {
        "id": "check_availability",
        "type": "action",
        "label": "Check specialist availability for order time"
      },
      {
        "id": "show_list",
        "type": "action",
        "label": "Show matching specialists"
      },
      {
        "id": "select_specialist",
        "type": "action",
        "label": "Select specialist"
      },
      {
        "id": "confirm",
        "type": "decision",
        "label": "Confirm assignment?"
      },
      {
        "id": "assign",
        "type": "action",
        "label": "Assign specialist to order"
      },
      {
        "id": "update_status",
        "type": "action",
        "label": "Update order status to 'assigned'"
      },
      {
        "id": "notify",
        "type": "action",
        "label": "Send notifications to specialist and client"
      },
      {
        "id": "cancel",
        "type": "action",
        "label": "Cancel assignment"
      },
      {
        "id": "end",
        "type": "end",
        "label": "Specialist assigned successfully"
      }
    ]
  },
  "rawContent": "# Assign Specialist Use Case\n\n[useCase]\nid = \"assign-specialist\"\nname = \"Assign Specialist\"\ndescription = \"Admin assigns an available specialist to a care order\"\nasRole = \"eldercare-admin\"\niWant = \"to assign a specialist to an order\"\nsoThat = \"The order can be fulfilled by a qualified specialist\"\n\n[useCase.meta]\nisActive = true\npriority = 1\nplatform = \"admin-app\"\n\n[useCase.conditions]\npre = [\n  \"Order exists and status is 'created' or 'reviewing'\",\n  \"Specialists are available\",\n  \"Specialist matches service type and city\",\n  \"Specialist has availability for order time\"\n]\npost = [\n  \"Order is assigned to specialist\",\n  \"Order status changes to 'assigned'\",\n  \"Specialist receives notification\",\n  \"Client receives assignment notification\"\n]\n\n[relations]\nroles = [\"eldercare-admin\"]\nguards = [\"authenticated\", \"admin-only\"]\nroutes = [\"admin-orders\"]\nentities = [\"order\", \"specialist\", \"availability\"]\ncomponents = [\"specialist-card\", \"order-card\", \"assignment-modal\"]\nevents = [\"order-assigned\"]\nplatforms = [\"admin-app\"]\nuseCases = []\n\n[implementation]\nroute = \"/prototype/admin/orders\"\ncomponent = \"AdminOrders\"\nfile = \"src/prototype/pages/admin/AdminOrders.tsx\"\nstatus = \"planned\"\n\n[[flow]]\nid = \"start\"\ntype = \"start\"\nlabel = \"Admin selects order to assign\"\n\n[[flow]]\nid = \"view_order\"\ntype = \"action\"\nlabel = \"View order details (service, location, time)\"\n\n[[flow]]\nid = \"tap_assign\"\ntype = \"action\"\nlabel = \"Tap 'Assign Specialist' button\"\n\n[[flow]]\nid = \"load_specialists\"\ntype = \"action\"\nlabel = \"Load available specialists\"\n\n[[flow]]\nid = \"filter_match\"\ntype = \"action\"\nlabel = \"Filter by service type and city\"\n\n[[flow]]\nid = \"check_availability\"\ntype = \"action\"\nlabel = \"Check specialist availability for order time\"\n\n[[flow]]\nid = \"show_list\"\ntype = \"action\"\nlabel = \"Show matching specialists\"\n\n[[flow]]\nid = \"select_specialist\"\ntype = \"action\"\nlabel = \"Select specialist\"\n\n[[flow]]\nid = \"confirm\"\ntype = \"decision\"\nlabel = \"Confirm assignment?\"\n\n[[flow]]\nid = \"assign\"\ntype = \"action\"\nlabel = \"Assign specialist to order\"\n\n[[flow]]\nid = \"update_status\"\ntype = \"action\"\nlabel = \"Update order status to 'assigned'\"\n\n[[flow]]\nid = \"notify\"\ntype = \"action\"\nlabel = \"Send notifications to specialist and client\"\n\n[[flow]]\nid = \"cancel\"\ntype = \"action\"\nlabel = \"Cancel assignment\"\n\n[[flow]]\nid = \"end\"\ntype = \"end\"\nlabel = \"Specialist assigned successfully\"\n\n",
  "metadata": {
    "size": 2374,
    "modified": "2025-12-15T08:37:04.478Z"
  }
}