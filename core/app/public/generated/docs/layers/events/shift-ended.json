{
  "path": "layers/events/shift-ended.toml",
  "name": "shift-ended.toml",
  "type": "toml",
  "content": {
    "event": {
      "id": "shift.ended",
      "name": "Shift Ended",
      "description": "Specialist completed the care session",
      "category": "shift"
    },
    "trigger": {
      "action": "click",
      "element": "Complete Shift button in confirmation dialog"
    },
    "payload": [
      {
        "name": "orderId",
        "type": "string",
        "description": "Completed order ID"
      },
      {
        "name": "duration",
        "type": "number",
        "description": "Total shift duration in seconds"
      },
      {
        "name": "endTime",
        "type": "string",
        "description": "ISO timestamp when shift ended"
      }
    ],
    "backend": {
      "description": "Updates order status to 'completed', records actual end time, calculates billing, sends receipt to client"
    },
    "relations": {
      "entities": [
        "care-order",
        "specialist"
      ],
      "routes": [
        "specialist-active-shift"
      ]
    }
  },
  "rawContent": "[event]\nid = \"shift.ended\"\nname = \"Shift Ended\"\ndescription = \"Specialist completed the care session\"\ncategory = \"shift\"\n\n[trigger]\naction = \"click\"\nelement = \"Complete Shift button in confirmation dialog\"\n\n[[payload]]\nname = \"orderId\"\ntype = \"string\"\ndescription = \"Completed order ID\"\n\n[[payload]]\nname = \"duration\"\ntype = \"number\"\ndescription = \"Total shift duration in seconds\"\n\n[[payload]]\nname = \"endTime\"\ntype = \"string\"\ndescription = \"ISO timestamp when shift ended\"\n\n[backend]\ndescription = \"Updates order status to 'completed', records actual end time, calculates billing, sends receipt to client\"\n\n[relations]\nentities = [\"care-order\", \"specialist\"]\nroutes = [\"specialist-active-shift\"]\n",
  "metadata": {
    "size": 698,
    "modified": "2025-12-14T15:38:57.647Z"
  }
}