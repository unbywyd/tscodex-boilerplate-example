{
  "path": "layers/events/auth-otp-sent.toml",
  "name": "auth-otp-sent.toml",
  "type": "toml",
  "content": {
    "event": {
      "id": "auth-otp-sent",
      "name": "OTP Code Sent",
      "description": "Verification code sent to user phone",
      "category": "auth"
    },
    "trigger": {
      "action": "click",
      "element": "Send Code button"
    },
    "payload": [
      {
        "name": "phone",
        "type": "string",
        "description": "Last 4 digits of phone number (masked)"
      },
      {
        "name": "app",
        "type": "string",
        "description": "Which app sent the OTP (client, specialist)"
      }
    ],
    "backend": {
      "description": "Generates 6-digit OTP, stores with 5 min expiry, sends SMS via provider"
    },
    "relations": {
      "entities": [
        "user"
      ],
      "routes": [
        "client-login",
        "specialist-login",
        "admin-login"
      ],
      "useCases": [
        "authenticate-phone"
      ],
      "components": [
        "phone-auth-form"
      ]
    }
  },
  "rawContent": "[event]\nid = \"auth-otp-sent\"\nname = \"OTP Code Sent\"\ndescription = \"Verification code sent to user phone\"\ncategory = \"auth\"\n\n[trigger]\naction = \"click\"\nelement = \"Send Code button\"\n\n[[payload]]\nname = \"phone\"\ntype = \"string\"\ndescription = \"Last 4 digits of phone number (masked)\"\n\n[[payload]]\nname = \"app\"\ntype = \"string\"\ndescription = \"Which app sent the OTP (client, specialist)\"\n\n[backend]\ndescription = \"Generates 6-digit OTP, stores with 5 min expiry, sends SMS via provider\"\n\n[relations]\nentities = [\"user\"]\nroutes = [\"client-login\", \"specialist-login\", \"admin-login\"]\nuseCases = [\"authenticate-phone\"]\ncomponents = [\"phone-auth-form\"]\n",
  "metadata": {
    "size": 641,
    "modified": "2025-12-15T08:30:37.332Z"
  }
}