# Start Shift Use Case

[useCase]
id = "start-shift"
name = "Start Shift"
description = "Specialist marks the start of work on an assigned order"
asRole = "specialist"
iWant = "to start my work shift"
soThat = "My work time is tracked and client is notified"

[useCase.meta]
isActive = true
priority = 1
platform = "specialist-app"

[useCase.conditions]
pre = [
  "Specialist is authenticated",
  "Order is assigned to specialist",
  "Order status is 'assigned' or 'on_way'",
  "Specialist is at location (manual confirmation)"
]
post = [
  "Order status changes to 'in_progress'",
  "Actual start time is recorded",
  "Client receives notification",
  "Time tracking begins"
]

[relations]
roles = ["specialist"]
guards = ["authenticated", "specialist-only"]
routes = ["specialist-active-shift"]
entities = ["order"]
components = ["active-shift", "order-card"]
events = ["shift-started"]
platforms = ["specialist-app"]
useCases = []

[implementation]
route = "/prototype/specialist/shift"
component = "ActiveShift"
file = "src/prototype/pages/specialist/ActiveShift.tsx"
status = "planned"

[[flow]]
id = "start"
type = "start"
label = "Specialist opens active shift screen"

[[flow]]
id = "view_order"
type = "action"
label = "View current order details"

[[flow]]
id = "confirm_location"
type = "decision"
label = "At service location?"

[[flow]]
id = "tap_start"
type = "action"
label = "Tap 'Start Shift' button"

[[flow]]
id = "confirm_start"
type = "decision"
label = "Confirm start?"

[[flow]]
id = "record_start"
type = "action"
label = "Record start time, update status"

[[flow]]
id = "notify_client"
type = "action"
label = "Send notification to client"

[[flow]]
id = "show_timer"
type = "action"
label = "Show active timer"

[[flow]]
id = "cancel"
type = "action"
label = "Cancel start action"

[[flow]]
id = "end"
type = "end"
label = "Shift started, timer running"

