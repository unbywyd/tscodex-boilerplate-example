# Authentication Knowledge Base

[topic]
id = "auth"
name = "Authentication & Authorization"
description = "Phone-based authentication with SMS OTP"

[[facts]]
question = "How does authentication work?"
answer = "Phone number authentication with SMS verification. User enters phone number, receives 6-digit code via SMS, enters code to log in."
tags = ["auth", "otp", "phone"]
status = "verified"

[[facts]]
question = "What is the authentication flow?"
answer = """
1. User enters phone number (Israeli format: 05x-xxx-xxxx)
2. System generates 6-digit code and sends via SMS provider
3. User enters received code
4. System validates code, creates session, returns auth token
5. User redirected to app home screen
"""
tags = ["auth", "flow", "otp"]
status = "verified"

[[facts]]
question = "What are OTP restrictions?"
answer = "Code valid for 5 minutes. Rate limit: 3 send attempts per phone per 15 minutes. Session valid for 30 days."
tags = ["auth", "security", "otp"]
status = "verified"

[[facts]]
question = "How are roles structured?"
answer = "Three roles with hierarchy: guest (0) < user (1) < admin (2). Each role has specific permissions defined in roles config."
tags = ["auth", "roles"]
status = "verified"

[[facts]]
question = "What guards are available?"
answer = "AuthGuard (must be logged in), GuestGuard (must NOT be logged in), RoleGuard (requires specific role), PermissionGuard (requires specific permission)"
tags = ["auth", "guards"]
status = "verified"

[[facts]]
question = "How does route protection work?"
answer = "Routes have meta with access type: public, guest, authenticated, or role. RouteGuard component wraps routes and applies appropriate guard."
tags = ["auth", "routing"]
status = "verified"
